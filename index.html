<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Floatplane</title>
		<style>
			body { margin: 0; }
            #hero {
                min-height: 100vh;
                width: 100vw;
            }
            section {
                min-height: 300px;
                display: flex;
                justify-content: center;
                align-items: center;
                text-align: center;
            }
            canvas {
                background: linear-gradient(#20717d, #569f9e,  #e7c29f 55%, #e7c29f 40%);
            }
		</style>
        <script src="./js/app.js" type="module" defer></script>
        <script>
            let keysHeld = [];

            function handleOrientation(event) {
                // keysHeld = [...keysHeld, "ArrowRight"];
                window.alert(event);

                if (event.gamma > 15) {
                    keysHeld = [...keysHeld, "ArrowRight"];
                    window.alert("ArrowRight!");
                } else if (event.gamma < 15) {
                    keysHeld = [...keysHeld, "ArrowLeft"];
                    window.alert("ArrowLeft!");
                } else {
                    keysHeld = keysHeld.filter(held => held !== "ArrowRight" || held !== "ArrowLeft");
                }

                document.getElementById('held').innerHTML = keysHeld;
            }

            function onClick() {
                // handleOrientation();
                if (typeof DeviceMotionEvent.requestPermission === 'function') {
                    // Handle iOS 13+ devices.
                    DeviceMotionEvent.requestPermission()
                    .then((state) => {
                        if (state === 'granted') {
                        window.addEventListener('devicemotion', handleOrientation);
                        } else {
                        console.error('Request to access the orientation was rejected');
                        }
                    })
                    .catch(console.error);
                } else {
                    // Handle regular non iOS 13+ devices.
                    window.addEventListener('devicemotion', handleOrientation);
                }
            }
        </script>
	</head>

	<body>
		<canvas id="hero"></canvas>
        <div id="held">10</div>
        <section id="pitch">
            <button onclick="onClick()">enable gyro</button>
            <h2>
                We'll deliver your end to end web solution <br />
                <u>on time</u> and <u>on budget</u>. When we're done, <br />
	            <u>we'll train your team</u> to maintain it.
            </h2>
        </section>
        <section id="team">
            <ul>
                <li>Jan</li>
                <li>Richard</li>
                <li>Shuwen</li>
                <li>Madeleine</li>
                <li>Zac</li>
                <li>Reto</li>
            </ul>
        </section>
        <section id="contact">
            <button>Reach out</button>
        </section>
	</body>
</html>